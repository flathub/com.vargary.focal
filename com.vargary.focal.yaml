app-id: com.vargary.focal
runtime: org.freedesktop.Platform
runtime-version: "24.08"
sdk: org.freedesktop.Sdk
command: focal
tags:
  - proprietary
finish-args:
  - --share=ipc
  - --share=network
  - --socket=fallback-x11
  - --socket=wayland
  - --device=dri
modules:
  - name: focal
    buildsystem: simple
    build-commands:
      - install -D -t ${FLATPAK_DEST}/ focal
      - cp -r data lib ${FLATPAK_DEST}/
      - mkdir -p /app/bin/
      - ln -s ${FLATPAK_DEST}/focal ${FLATPAK_DEST}/bin/focal
      - install -Dm644 -t ${FLATPAK_DEST}/share/applications contrib/${FLATPAK_ID}.desktop
      - install -Dm644 -t ${FLATPAK_DEST}/share/icons/hicolor/128x128/apps contrib/${FLATPAK_ID}.png
      - install -Dm644 -t ${FLATPAK_DEST}/share/metainfo contrib/${FLATPAK_ID}.metainfo.xml
      - rm -rf ${FLATPAK_DEST}/contrib/
    sources:
      - type: archive
        dest-filename: focal.tar.gz
        only-arches: [x86_64]
        url: https://focal.vargary.com/downloads/linux/x64/focal-1.2.4.tar.gz
        sha256: 42bf743e2c3577c222d9b1414e60401ce73dc5fc1c5dc3d54f8e43b4662b05e2
