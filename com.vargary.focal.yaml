app-id: com.vargary.focal
runtime: org.freedesktop.Platform
runtime-version: "23.08"
sdk: org.freedesktop.Sdk
command: /app/focal
tags:
  - proprietary
finish-args:
  - --share=ipc
  - --share=network
  - --socket=fallback-x11
  - --socket=wayland
  - --socket=pulseaudio
  - --device=dri
modules:
  - name: focal
    buildsystem: simple
    build-commands:
      - install -D -t ${FLATPAK_DEST}/ focal
      - cp -r data lib ${FLATPAK_DEST}/
      - install -Dm644 -t ${FLATPAK_DEST}/share/applications ${FLATPAK_ID}.desktop
      - install -Dm644 -t ${FLATPAK_DEST}/share/icons/hicolor/128x128/apps ${FLATPAK_ID}.png
      - install -Dm644 -t ${FLATPAK_DEST}/share/metainfo ${FLATPAK_ID}.metainfo.xml
    sources:
      - type: file
        path: com.vargary.focal.desktop
      - type: file
        path: com.vargary.focal.metainfo.xml
      - type: file
        path: com.vargary.focal.png
      - type: archive
        filename: focal.tar.gz
        only-arches: [x86_64]
        url: https://focal.vargary.com/downloads/linux/x64/focal-1.0.1.tar.gz
        sha256: 34a9f939cd062fe19b86e2c82f1ce0a32dc3a8950ad1c8613cf70fd27a443e15
